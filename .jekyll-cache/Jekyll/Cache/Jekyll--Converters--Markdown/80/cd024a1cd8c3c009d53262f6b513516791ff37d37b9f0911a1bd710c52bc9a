I"¶<h1 id="install-ubuntu-1804-gpu-server-for-deeplearning---3">Install Ubuntu 18.04 GPU Server For DeepLearning - 3</h1>

<p>ê°œì¸ ë”¥ëŸ¬ë‹ìš© ì„œë²„ ì„¤ì¹˜ ê³¼ì •ê³¼ ì‚½ì§ˆì„ ë‹´ì€ ê¸€ì…ë‹ˆë‹¤.</p>

<hr />

<h2 id="install-python">Install PYTHON</h2>

<p>ì•„ë‚˜ì½˜ë‹¤ë¥¼ í†µí•˜ì§€ ì•Šê³  ì†ŒìŠ¤ë¥¼ í†µí•´ íŒŒì´ì¬ì„ ì„¤ì¹˜í•˜ê¸°ë¡œ í–ˆë‹¤. ì¼ë‹¨ ìš©ëŸ‰ì´ ì‘ê³ , ë‹¤ë¥¸ ë¶€ê°€ spyder ë“± í”„ë¡œê·¸ë¨ì„ ì„¤ì¹˜í•˜ê¸° ì‹«ì–´ì„œ ì†ŒìŠ¤ì—ì„œ ì§ì ‘ ì„¤ì¹˜í•˜ê¸°ë¡œ í–ˆë‹¤.</p>

<ol>
  <li><a href="https://www.python.org/">https://www.python.org/</a> ì—ì„œ <code class="highlighter-rouge">Download &gt; Soruce code &gt; Python 3.6.5 - 2018-03-28</code> ë¡œ ë“¤ì–´ê°€ì„œ <code class="highlighter-rouge">Gzipped source tarball</code> ì˜ ë§í¬ë¥¼ ë³µì‚¬í•œ í›„ ì•„ë˜ì™€ ê°™ì´ ì³ì£¼ì.
    <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>wget https://www.python.org/ftp/python/3.6.5/Python-3.6.5.tgz
</code></pre></div>    </div>
  </li>
  <li>ì••ì¶•ì„ í—¤ì œì‹œì¼œì£¼ì
    <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>sudo -zxvf Python-3.6.5.tgz
</code></pre></div>    </div>
  </li>
  <li>ì„¤ì¹˜í•´ë³´ì
    <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>./configure
make
make test
sudo make install
</code></pre></div>    </div>
  </li>
</ol>

<p>ê¸°ë³¸ì ìœ¼ë¡œ ì´ë ‡ê²Œ ì§„í–‰í•˜ë©´ ì„¤ì¹˜ê°€ ì™„ë£Œ ëœë‹¤. (ì¤‘ê°„ì— ì‹¤íŒ¨í•˜ë©´ ì–´ë–¤ íŒ¨í‚¤ì§€ê°€ ì—†ëŠ”ì§€ í™•ì¸í•˜ê³  apt-getìœ¼ë¡œ ì„¤ì¹˜í•´ì¤€ë‹¤.)</p>

<p>í•˜ì§€ë§Œ <code class="highlighter-rouge">sudo pip3 install numpy</code> í•˜ê²Œ ë˜ë©´ ì•„ë˜ì™€ ê°™ì´ â€œTLS/SSL ~â€ ì´ë¼ë©° ì—ëŸ¬ê°€ ëœ° ìˆ˜ë„ ìˆë‹¤. ìì„¸íˆ ë­”ì§€ëŠ” ëª¨ë¥´ê² ì§€ë§Œ, êµ¬ê¸€ë§ì„ í†µí•´ì„œ í•´ê²°í–ˆë‹¤.</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>pip is configured with locations that require TLS/SSL, however the ssl module in Python is not available.
Collecting
  Could not fetch URL https://pypi.python.org/simple//: There was a problem confirming the ssl certificate: Can't connect to HTTPS URL because the SSL module is not available. - skipping
  Could not find a version that satisfies the requirement (from versions: )
No matching distribution found for
</code></pre></div></div>

<h3 id="í•´ê²°ì±…">í•´ê²°ì±…</h3>

<ol>
  <li>í•„ìˆ˜ íŒ¨í‚¤ì§€ë¥¼ ì„¤ì¹˜í•œë‹¤
    <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>sudo apt-get install libreadline-gplv2-dev libncursesw5-dev libssl-dev libsqlite3-dev tk-dev libgdbm-dev libc6-dev libbz2-dev
</code></pre></div>    </div>
  </li>
  <li>ì†ŒìŠ¤í´ë”ë¡œ ëŒì•„ê°€ì„œ ë‹¤ì‹œ ì„¤ì¹˜í•´ì¤€ë‹¤.
    <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>sudo make
sudo make install
</code></pre></div>    </div>
  </li>
  <li>ë§ˆì§€ë§‰ìœ¼ë¡œ, pip ë¥¼ ì—…ê·¸ë ˆì´ë“œ í•´ì¤€ë‹¤.
    <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>sudo pip3 install --upgrade pip
</code></pre></div>    </div>
  </li>
</ol>

<p>ì´ì œ ì„¤ì¹˜ê°€ ì˜ ë  ê²ƒì´ë‹¤.</p>

<p><br /></p>

<h2 id="install-cuda-90">Install CUDA 9.0</h2>

<p>CUDA-Toolkit ë¥¼ ì„¤ì¹˜í•˜ë©´ ë“œë¼ì´ë²„ë¥¼ ì„¤ì¹˜í•  í•„ìš”ëŠ” ì—†ë‹¤ê³ í•˜ë‚˜ ë§Œì•½ì— ë¨¼ì € ì„¤ì¹˜í•´ì•¼í•˜ë©´ ì•„ë˜ì™€ ê°™ì´ ì„¤ì¹˜(ì—…ë°ì´íŠ¸) í•´ì£¼ì</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>sudo add-apt-repository ppa:graphics-drivers/ppa
sudo apt update
sudo apt install nvidia-390
</code></pre></div></div>

<h3 id="1-cuda-toolkit">1. CUDA-Toolkit</h3>

<p><a href="https://developer.nvidia.com/cuda-90-download-archive">https://developer.nvidia.com/cuda-90-download-archive</a> ì—ì„œ ìì‹ ì— ë²„ì ¼ì— ë§ëŠ” CUDA-Toolkit ì„ ë°›ì.</p>

<p>ë‚˜ëŠ” ìš°ë¶„íˆ¬ì´ê¸°ì— <code class="highlighter-rouge">Linux &gt; x86_64 &gt; Ubuntu &gt; 17.04 &gt; del[local]</code> ë¥¼ ê³¨ëë‹¤.</p>

<blockquote>
  <p>Base Installer</p>

  <p>Patch 1 (Released Jan 25, 2018)</p>

  <p>Patch 2 (Released Mar 5, 2018)</p>
</blockquote>

<p>ì„¸ê°œì˜ ë‹¤ìš´ë¡œë“œ ë§í¬ë¥¼ ë³µì‚¬í•œ ë’¤ <code class="highlighter-rouge">wget</code> ë©”ì„œë“œë¡œ ë°›ì•„ì¤€ë‹¤.</p>

<p><strong>Base Installer</strong> ì„¤ì¹˜</p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>sudo dpkg -i cuda-repo-ubuntu1704-9-0-local_9.0.176-1_amd64.deb
sudo apt-key add /var/cuda-repo-9-0-local/7fa2af80.pub
sudo apt-get update
sudo apt-get install cuda
</code></pre></div></div>
<p><strong>Patch 1</strong> ì„¤ì¹˜</p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>sudo dpkg -i cuda-repo-ubuntu1604-9-0-local-cublas-performance-update_1.0-1_amd64.deb
sudo apt-get update
sudo apt-get upgrade cuda
</code></pre></div></div>
<p><strong>Patch 2</strong> ì„¤ì¹˜</p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>sudo dpkg -i cuda-repo-ubuntu1604-9-0-local-cublas-performance-update-2_1.0-1_amd64.deb
sudo apt-get update
sudo apt-get upgrade cuda
</code></pre></div></div>

<p>ë§Œì•½ì— ì¿ ë‹¤ ë“œë¼ì´ë²„ ëª…ë ¹ì–´ì¸ <code class="highlighter-rouge">nvcc</code> ë¥¼ ì“°ê³  ì‹¶ë‹¤ë©´ <code class="highlighter-rouge">./profile</code> íŒŒì¼ ë°‘ì—ë‹¤ ì•„ë˜ í•­ëª©ì„ ì¶”ê°€í•´ì£¼ë©´ ëœë‹¤.</p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>export PATH=/usr/local/cuda-9.0/bin${PATH:+:$PATH}}
export LD_LIBRARY_PATH=/usr/local/cuda-9.0/lib64${LD_LIBRARY_PATH:+:${LD_LIBRARY_PATH}}
</code></pre></div></div>
<p>ì•„ë˜ ë‘˜ì¤‘ì— í•˜ë‚˜ë¥¼ í•œë²ˆ ì‹œë„í•´ë³´ë©´ ëœë‹¤.</p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>nvcc -V
nvidia-smi
</code></pre></div></div>

<h3 id="2-cudnn-ì„¤ì¹˜">2. CuDNN ì„¤ì¹˜</h3>

<p>CuDNN ì„ ì„¤ì¹˜í•˜ë ¤ë©´ NVIDIA íšŒì› ê°€ì…ì„ í•´ì•¼í•œë‹¤. ê·¸ë¦¬ê³  ì•„ë˜ ì‹¸ì´íŠ¸ì—ì„œ ë°›ì•„ì„œ <code class="highlighter-rouge">scp</code> ëª…ë ¹ì–´ë¡œ ì„œë²„ë¡œ ì˜®ê¸°ì.</p>

<ul>
  <li><a href="https://developer.nvidia.com/rdp/cudnn-download">https://developer.nvidia.com/rdp/cudnn-download</a></li>
</ul>

<p>ì••ì¶•ì„ í•´ì œí•˜ê³ , íŒŒì¼ë“¤ì„ ì˜®ê²¨ì£¼ë©´ ëœë‹¤.</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>tar -xzvf cudnn-9.0-linux-x64-v7.tgz
sudo cp cuda/include/cudnn.h /usr/local/cuda/include
sudo cp cuda/lib64/libcudnn* /usr/local/cuda/lib64
sudo chmod a+r /usr/local/cuda/include/cudnn.h /usr/local/cuda/lib64/libcudnn*
</code></pre></div></div>

<h2 id="pytorch-ì„¤ì¹˜í•œ-í›„-í…ŒìŠ¤íŠ¸">Pytorch ì„¤ì¹˜í•œ í›„ í…ŒìŠ¤íŠ¸</h2>

<p><img src="/assets/ds/gpuserver/torch.png" /></p>

<p>ì´ë¡œì¨ ì„¤ì¹˜ ê³¼ì •ì„ ë§ˆì¹˜ê² ë‹¤. ì»´í“¨í„° ì„¤ì¹˜ëŠ” ì²˜ìŒì´ë¼ 3ì¼ ê±¸ë ¸ì§€ë§Œ ì•ìœ¼ë¡œëŠ” ë” ì§§ì•„ ì§€ê² ì§€â€¦</p>

<p>ë§Œì•½ ì˜¤ë¥˜ê°€ ë‚˜ë©´ ë˜ ì—…ë°ì´íŠ¸ í•˜ê² ë‹¤.</p>
:ET